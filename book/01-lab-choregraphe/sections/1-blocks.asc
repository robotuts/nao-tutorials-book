==== Блоки и первая фраза

////
частично -- 2-l10n
////

В _Choregaphe_ основной элемент визуального программирования -- _блок_. У каждого блока есть один или несколько входов (слева) и выходов (справа). Входы управляют запуском и остановкой блока, а выходы позволяют возвращать результат работы блока. Верхний вход [image:btn-io/onstart.png[OnStart]] запускает работу блока по сигналу, нижний вход [image:btn-io/onstop.png[OnStop]] -- прерывает по сигналу. Выход [image:btn-io/onstopped.png[OnStopped]] отправляет сигнал после того, как полностью завершилось действие, записанное в блоке. Если выходов у блока больше одного, то верхний будет задействован при успешном окончании действия, а нижний -- при прерывании из-за ошибки. Для каждого конкретного блока описание тех или иных элементов можно посмотреть, если навести мышку на соответсвующую иконку и задержать на несколько секунд. Сам сигнал отображается зеленым кружком на соединительных линиях, по которым проходит. Также у многих блоков имеются параметры, список которых можно вызвать, кликнув по иконке гаечного ключа [image:btn-io/wrench.png[Parameters]].

Рассмотрим простейший пример: научим робота произносить первую фразу. Для этого нам понадобится блок `Say`, который расположен на вкладке _standard_ (панель _Box libraries_) в папке menu:Audio[Voice]. Просто перетяните блок `Say` на рабочее пространство (центральная часть программы). Если панели _Box libraries_ нигде нет, то откройте её из меню menu:View[Box libraries].

При этом стоит учитывать, что, хотя робот поддерживает множество языков, самостоятельно под введённый текст он не подстраивается. Чтобы избежать ошибок в произношении, очень желательно добавлять перед каждым блоком `Say` блок `Set Language`, который находится в библиотеке блоков в папке menu:Audio[Voice]. Он позволяет настроить язык, который будет использоваться в `Say`, для этого нужно выбрать его в _параметрах_  [image:btn-io/wrench.png[Parameters]] блока. Также стоит проверить, правильный ли язык выставлен внутри самого блока `Say`: кликните по нему дважды, чтобы открыть, и удостоверьтесь, что в блоке `Localized text` выбран английский.

image::screenshots/lab1-sayinside.PNG[sayinside,align="center"]

Всего на роботе доступно два языка одновременно (возможно, в дальнейшем `Aldebaran Robotics` научатся загружать больше пакетов на робота, но на данный момент это не случилось), и, если ничего странного вроде переустановки с роботами не произошло, то в данном случае это английский и русский. Как и многие другие модули, которые влияют на настройки робота, модуль `Set Language` изменяет настройки робота перманентно, это значит, что после завершения программы язык не изменится обратно. Поэтому желательно добавить перед выходом из программы еще один блок `Set Language` в котором язык снова изменится на английский. Кроме организационных моментов, это поможет в дальнейшем, когда мы начнем распознавание голоса -- встроенная библиотека лучше работает с английской речью, чем с русской.

image::screenshots/lab1-langselect.png[l10n,align="center"]

Для запуска примера соедините начало программы [image:btn-io/onstart.png[OnStart]] со входом блока [image:btn-io/onstart.png[OnStart]], а затем выход блока [image:btn-io/onstopped.png[OnStopped]] с выходом программы [image:btn-io/onstopped.png[OnStopped]]. Чтобы запустить программу, выберите в меню menu:Connection[Upload to robot and Play] или нажмите на соответствующую кнопку на панели наверху [image:btn/play.png[Play]] или на kbd:[F5] на клавиатуре.


TIP: Чем больше схема, тем сложнее ее читать, а значит и искать в ней ошибки. Рекомендуется создать новый составной блок (подобно блоку `Say`): в контекстном меню (правая кнопка мыши) в центральной области выберите menu:Create a new box[Diagram...], дайте ему любое имя и нажмите btn:[OK]. Переместите блоки выбора языка и речи внутрь нового блока (при помощи обычных команд kbd:[Ctrl+X], kbd:[Ctrl+V]).

Убедитесь, что после создания нового блока функциональность не изменилась, и переходите к следующему заданию.
